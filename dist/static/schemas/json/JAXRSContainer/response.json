{
  "id": "JAXRSContainer/response.json",
  "$schema": "http://json-schema.org/draft-04/schema#",
  "description": "JAX-RS standard container for responses",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "success": {
      "description": "Result flag",
      "type": "boolean"
    },
    "body": {
      "description": "Response contents",
      "type": "object"
    },
    "messages": {
      "description": "Additional messages to display by PL",
      "type": "array",
      "items": {
        "$ref": "#/definitions/JAXRSMessageType"
      },
      "minItems": 1,
      "maxItems": 256,
      "additionalItems": false
    },
    "error": {
      "description": "Error description to display by PL. Should be passed only on success=false",
      "$ref": "#/definitions/JAXRSErrorType"
    },
    "alerts": {
      "description": "Urgent alerts for PL",
      "type": "array",
      "items": {
        "$ref": "#/definitions/JAXRSAlertType"
      },
      "minItems": 1,
      "maxItems": 256,
      "additionalItems": false
    }
  },
  "required": [
    "success"
  ],
  "definitions": {
    "JAXRSMessageType": {
      "description": "JAX-RS standard container for messages, notifications and errors",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "uuid": {
          "type": "string",
          "maxLength": 128
        },
        "type": {
          "type": "string",
          "pattern": "^([Ee][Rr][Rr][Oo][Rr]|[Ww][Aa][Rr][Nn][Ii][Nn][Gg]|[Ii][Nn][Ff][Oo]|[Vv][Aa][Ll][Ii][Dd][Aa][Tt][Ii][Oo][Nn]|[Ff][Rr][Aa][Uu][Dd]|[Cc][Uu][Ss][Tt][Oo][Mm]|[Dd][Ii][Aa][Ll][Oo][Gg])$",
          "maxLength": 128
        },
        "code": {
          "type": "string",
          "maxLength": 256
        },
        "title": {
          "type": "string",
          "maxLength": 256
        },
        "text": {
          "type": "string",
          "maxLength": 512
        }
      },
      "required": [
        "type",
        "title"
      ]
    },
    "JAXRSErrorType": {
      "description": "JAX-RS standard container for system errors",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "uuid": {
          "type": "string",
          "maxLength": 128
        },
        "code": {
          "type": "string",
          "maxLength": 256
        },
        "system": {
          "type": "string",
          "maxLength": 256
        },
        "title": {
          "type": "string",
          "maxLength": 256
        },
        "text": {
          "type": "string",
          "maxLength": 512
        }
      },
      "required": [
        "uuid",
        "code"
      ]
    },
    "JAXRSAlertType": {
      "description": "JAX-RS standard container for urgent alerts",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "type": {
          "type": "string",
          "maxLength": 128
        },
        "title": {
          "type": "string",
          "maxLength": 256
        },
        "text": {
          "type": "string",
          "maxLength": 512
        },
        "data": {
          "description": "Additional data for alert stored as key-value string pairs",
          "type": "object",
          "additionalProperties": false,
          "patternProperties": {
            "^[A-Za-z]+$": {
              "type": "string",
              "maxLength": 256
            }
          },
          "maxProperties": 16
        }
      }
    }
  }
}
