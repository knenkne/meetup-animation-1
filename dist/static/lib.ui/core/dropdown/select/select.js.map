{"version":3,"file":"select.js","sources":["../../../src/dropdown/select/select.jsx"],"sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport _ from 'lodash'\n\nimport ExtendedDropdown from '../dropdown'\nimport { mergeTheme } from '../../utils/merge-theme'\nimport { memoizeFuncWithArgs } from '../../utils/memoize-func-with-args'\n\nimport { Item } from './item'\nimport style from './select.css'\n\nconst mergedTheme = mergeTheme(ExtendedDropdown.theme, style)\n\nconst renderOption = (option) => {\n    const translations = {\n        title: option.title\n    }\n\n    return (\n        <ExtendedDropdown.Option\n            key={option.value}\n            value={option.value}\n            title={option.title}\n            translations={translations}\n        />\n    )\n}\n\nexport const Select = (props) => {\n    const { options, value, onChange, onFocus, onBlur, disabled, error } = props\n    const title = _.get(_.find(options, { value }), 'title', '')\n    const description = _.get(_.find(options, { value }), 'description', '')\n    const additional = _.get(_.find(options, { value }), 'additional', '')\n    const filteredOptions = _.reject(options, (item) => item.value === value)\n\n    if (disabled) {\n        return <Item {...props} title={title} readOnly />\n    }\n\n    return (\n        <ExtendedDropdown\n            {..._.omit(props, 'options')}\n            mode=\"click\"\n            onChange={onChange}\n            value={value}\n            error={error}\n            theme={mergedTheme}\n        >\n            <ExtendedDropdown.Contents theme={mergedTheme}>\n                {_.map(filteredOptions, renderOption)}\n            </ExtendedDropdown.Contents>\n            <ExtendedDropdown.TargetButton\n                theme={mergedTheme}\n                onFocus={memoizeFuncWithArgs(onFocus, value)}\n                onBlur={memoizeFuncWithArgs(onBlur, value)}\n                aria-label={title || 'Значение не выбрано'}\n                colorScheme=\"\"\n            >\n                <Item title={title} description={description} amount={additional} />\n            </ExtendedDropdown.TargetButton>\n        </ExtendedDropdown>\n    )\n}\n\nSelect.propTypes = {\n    options: PropTypes.arrayOf(PropTypes.object),\n    value: PropTypes.string,\n    onChange: PropTypes.func,\n    onFocus: PropTypes.func,\n    onBlur: PropTypes.func,\n    disabled: PropTypes.bool,\n    error: PropTypes.string,\n    touched: PropTypes.bool\n}\n\nSelect.defaultProps = {\n    options: [],\n    value: '',\n    onChange: _.noop,\n    onFocus: _.noop,\n    onBlur: _.noop,\n    disabled: false,\n    error: void 0,\n    touched: false\n}\n\nSelect.theme = style\nSelect.displayName = 'Dropdown.Select'\n\nexport default Select\n"],"names":["mergedTheme","mergeTheme","ExtendedDropdown","theme","style","renderOption","option","translations","title","value","Select","props","options","onChange","onFocus","onBlur","disabled","error","_","get","find","description","additional","filteredOptions","reject","item","omit","map","memoizeFuncWithArgs","propTypes","PropTypes","arrayOf","object","string","func","bool","touched","defaultProps","noop","displayName"],"mappings":"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"}