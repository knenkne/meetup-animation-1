{"version":3,"file":"quarter-input.js","sources":["../../../src/calendar/quarter-picker/quarter-input.jsx"],"sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport _ from 'lodash'\n\nimport { Input } from '../../input'\nimport { EMPTY_STRING, MASK_QUARTER, QUARTER_PLACEHOLDER } from '../constants'\nimport { quarterMask, quarterUnmask } from '../utils'\nimport { IconBlock } from '../components/icon-block/icon-block'\nimport style from '../calendar-input.css'\n\nconst defaultTheme = _.merge({}, Input.theme, style)\n\nexport class QuarterInput extends React.Component {\n\n    handleChange = (e) => {\n        if (Input.Masked.utils.isMaskedValue(this.props.value)) {\n            this.props.onChange(Input.getInputDiff(e.target.value, this.prevSelectionStart, e.target.selectionStart), e)\n        } else {\n            this.props.onChange(quarterUnmask(e.target.value), e)\n        }\n    }\n    handleFocus = (e) => {\n        this.props.onFocus(quarterUnmask(e.target.value), e)\n    }\n    handleBlur = (e) => {\n        this.props.onBlur(quarterUnmask(e.target.value), e)\n    }\n    handleKeyDown = (event) => {\n        this.prevSelectionStart = event.target.selectionStart\n        this.props.onKeyDown(event)\n    }\n\n    handleContextMenu = (event) => {\n        this.prevSelectionStart = event.target.selectionStart\n        this.props.onContextMenu(event)\n    }\n\n    render () {\n        const { value, disabled, theme, ...passedProps } = this.props\n        const passingValue = quarterMask(value)\n        return (\n            <div className={theme.calendarDateTimeInputBlock}>\n                <Input.Masked.Typeahead.KeepCharPositions\n                    inputMode=\"decimal\"\n                    {...passedProps}\n                    value={passingValue}\n                    mask={Input.Masked.utils.maskedFormat(MASK_QUARTER, value)}\n                    guide={false}\n                    placeholderChar=\"_\"\n                    placeholder={disabled ? EMPTY_STRING : QUARTER_PLACEHOLDER}\n                    autoComplete=\"off\"\n                    onChange={this.handleChange}\n                    onFocus={this.handleFocus}\n                    onBlur={this.handleBlur}\n                    onKeyDown={this.handleKeyDown}\n                    onContextMenu={this.handleContextMenu}\n                    disabled={disabled}\n                    theme={theme}\n                />\n                {!disabled && <IconBlock className={theme.iconPosition} />}\n            </div>\n        )\n    }\n}\n\nQuarterInput.propTypes = {\n    value: PropTypes.string,\n    error: PropTypes.string,\n    onChange: PropTypes.func,\n    onFocus: PropTypes.func,\n    onBlur: PropTypes.func,\n    onKeyDown: PropTypes.func,\n    onContextMenu: PropTypes.func,\n    name: PropTypes.string,\n    disabled: PropTypes.bool,\n    theme: PropTypes.shape({\n        input: PropTypes.string,\n        calendarDateTimeInputBlock: PropTypes.string,\n        iconPosition: PropTypes.string,\n        block: PropTypes.string,\n        disabled: PropTypes.string,\n        error: PropTypes.string,\n        icon: PropTypes.string,\n        inputIcon: PropTypes.string\n    })\n}\n\nQuarterInput.defaultProps = {\n    value: '',\n    error: void 0,\n    onChange: _.noop,\n    onFocus: _.noop,\n    onBlur: _.noop,\n    onKeyDown: _.noop,\n    onContextMenu: _.noop,\n    name: EMPTY_STRING,\n    disabled: false,\n    theme: defaultTheme\n}\n\nQuarterInput.theme = defaultTheme\n"],"names":["defaultTheme","_","merge","Input","theme","style","QuarterInput","e","Masked","utils","isMaskedValue","props","value","onChange","getInputDiff","target","prevSelectionStart","selectionStart","quarterUnmask","onFocus","onBlur","event","onKeyDown","onContextMenu","disabled","passedProps","passingValue","quarterMask","calendarDateTimeInputBlock","maskedFormat","MASK_QUARTER","EMPTY_STRING","QUARTER_PLACEHOLDER","handleChange","handleFocus","handleBlur","handleKeyDown","handleContextMenu","iconPosition","React","Component","propTypes","PropTypes","string","error","func","name","bool","shape","input","block","icon","inputIcon","defaultProps","noop"],"mappings":"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"}