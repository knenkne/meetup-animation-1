{"version":3,"file":"loader.js","sources":["../../src/loader/loader.jsx"],"sourcesContent":["import React, { useMemo, useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport classnames from 'classnames'\n\nimport defaultTheme from './loader.css'\nimport pulseTheme from './loader-themes/pulse-loader.css'\nimport jumpTheme from './loader-themes/jump-loader.css'\nimport swapTheme from './loader-themes/swap-loader.css'\n\nconst THEMES = [pulseTheme, jumpTheme, swapTheme]\n\nconst DEFAULT_DELAY = 300\nconst DEFAULT_CHANGE_INTERVAL = 25600\n\n/**\n * Лоадер для страницы\n *\n * @param {Object} props - свойства компонента\n * @return {JSX} - компонент\n */\nexport const Loader = ({ size, mode, colorScheme }) => {\n    const [showed, setShowed] = useState(false)\n    const [theme, setTheme] = useState(THEMES[0])\n    const pointClassName = useMemo(() => theme[size] || theme.sm, [theme])\n\n    useEffect(() => {\n        const timeoutId = setTimeout(() => setShowed(true), DEFAULT_DELAY)\n\n        return () => clearTimeout(timeoutId)\n    }, [])\n\n    useEffect(() => {\n        const intervalId = setInterval(() => {\n            const currentThemeIndex = THEMES.indexOf(theme)\n            const newTheme = THEMES[currentThemeIndex + 1] || THEMES[0]\n\n            setTheme(newTheme)\n        }, DEFAULT_CHANGE_INTERVAL)\n\n        return () => clearInterval(intervalId)\n    }, [showed, theme])\n\n    if (!showed) {\n        return null\n    }\n\n    return (\n        <div\n            className={classnames(\n                defaultTheme.loader,\n                defaultTheme[size],\n                defaultTheme[colorScheme],\n                mode === 'fill' && defaultTheme.fill\n            )}\n        >\n            <span className={classnames(defaultTheme.loaderPoint, pointClassName)} />\n            <span className={classnames(defaultTheme.loaderPoint, pointClassName)} />\n            <span className={classnames(defaultTheme.loaderPoint, pointClassName)} />\n        </div>\n    )\n}\n\nLoader.propTypes = {\n    /**\n     * Размер отображаемого лоадера\n     */\n    size: PropTypes.oneOf(['xs', 'sm', 'lg']),\n    /**\n     * Позиционирование по центру контейнера\n     */\n    mode: PropTypes.oneOf(['fill', void 0]),\n    /**\n     * Светлый или темный цвет лоадера\n     */\n    colorScheme: PropTypes.oneOf(['dark', 'light'])\n}\n\nLoader.defaultProps = {\n    size: 'sm',\n    mode: void 0,\n    colorScheme: 'dark'\n}\n\nLoader.displayName = 'Loader'\nLoader.theme = defaultTheme\nexport default Loader\n"],"names":["THEMES","pulseTheme","jumpTheme","swapTheme","DEFAULT_DELAY","DEFAULT_CHANGE_INTERVAL","Loader","size","mode","colorScheme","useState","showed","setShowed","theme","setTheme","pointClassName","useMemo","sm","useEffect","timeoutId","setTimeout","clearTimeout","intervalId","setInterval","currentThemeIndex","indexOf","newTheme","clearInterval","classnames","defaultTheme","loader","fill","loaderPoint","propTypes","PropTypes","oneOf","defaultProps","displayName"],"mappings":"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"}