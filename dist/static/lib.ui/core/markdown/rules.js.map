{"version":3,"file":"rules.js","sources":["../../src/markdown/rules.js"],"sourcesContent":["import _ from 'lodash'\nimport BigNumber from 'bignumber.js'\n\nimport { symbols } from '../currency/locales'\n\nconst configRuLocale = {\n    prefix: '',\n    decimalSeparator: ',',\n    groupSeparator: ' ',\n    groupSize: 3,\n    secondaryGroupSize: 0,\n    fractionGroupSeparator: ' ',\n    fractionGroupSize: 0,\n    suffix: ''\n}\nconst Currency = BigNumber\nconst DECIMAL_FORMAT = 2\nCurrency.config({\n    FORMAT: configRuLocale\n})\n\nexport const numberFormatter = (content) => {\n    if (!_.isFinite(parseFloat(content))) {\n        return ''\n    }\n    return new Currency(parseFloat(content)).toFormat(DECIMAL_FORMAT)\n}\n\nexport const currencySymbol = (x) => {\n    if (_.isNil(x)) {\n        return ''\n    }\n    const lowerCaseX = x.toLowerCase()\n    if (_.isNil(symbols[lowerCaseX])) {\n        return x\n    }\n    return `<span>${symbols[lowerCaseX]}</span>`\n}\n"],"names":["configRuLocale","prefix","decimalSeparator","groupSeparator","groupSize","secondaryGroupSize","fractionGroupSeparator","fractionGroupSize","suffix","Currency","BigNumber","DECIMAL_FORMAT","config","FORMAT","numberFormatter","content","_","isFinite","parseFloat","toFormat","currencySymbol","x","isNil","lowerCaseX","toLowerCase","symbols"],"mappings":";;;;AAKA,IAAMA,cAAc,GAAG;AACnBC,EAAAA,MAAM,EAAE,EADW;AAEnBC,EAAAA,gBAAgB,EAAE,GAFC;AAGnBC,EAAAA,cAAc,EAAE,GAHG;AAInBC,EAAAA,SAAS,EAAE,CAJQ;AAKnBC,EAAAA,kBAAkB,EAAE,CALD;AAMnBC,EAAAA,sBAAsB,EAAE,GANL;AAOnBC,EAAAA,iBAAiB,EAAE,CAPA;AAQnBC,EAAAA,MAAM,EAAE;AARW,CAAvB;AAUA,IAAMC,QAAQ,GAAGC,SAAjB;AACA,IAAMC,cAAc,GAAG,CAAvB;AACAF,QAAQ,CAACG,MAAT,CAAgB;AACZC,EAAAA,MAAM,EAAEb;AADI,CAAhB;IAIac,eAAe,GAAG,SAAlBA,eAAkB,CAACC,OAAD,EAAa;AACxC,MAAI,CAACC,CAAC,CAACC,QAAF,CAAWC,UAAU,CAACH,OAAD,CAArB,CAAL,EAAsC;AAClC,WAAO,EAAP;AACH;;AACD,SAAO,IAAIN,QAAJ,CAAaS,UAAU,CAACH,OAAD,CAAvB,EAAkCI,QAAlC,CAA2CR,cAA3C,CAAP;AACH;IAEYS,cAAc,GAAG,SAAjBA,cAAiB,CAACC,CAAD,EAAO;AACjC,MAAIL,CAAC,CAACM,KAAF,CAAQD,CAAR,CAAJ,EAAgB;AACZ,WAAO,EAAP;AACH;;AACD,MAAME,UAAU,GAAGF,CAAC,CAACG,WAAF,EAAnB;;AACA,MAAIR,CAAC,CAACM,KAAF,CAAQG,OAAO,CAACF,UAAD,CAAf,CAAJ,EAAkC;AAC9B,WAAOF,CAAP;AACH;;AACD,yBAAgBI,OAAO,CAACF,UAAD,CAAvB;AACH;;;;"}