{"version":3,"file":"fast-action.js","sources":["../../src/fast-actions/fast-action.jsx"],"sourcesContent":["import React, { useMemo } from 'react'\nimport PropTypes from 'prop-types'\nimport cn from 'classnames'\n\nimport { Icon } from '../icon'\nimport typography from '../typography/style.css'\nimport { mergeTheme } from '../utils'\nimport { Loader } from '../loader'\n\nimport defaultTheme from './style.css'\n\n// eslint-disable-next-line complexity, comment: complexity of 12\nexport const FastAction = ({\n    href,\n    onClick,\n    icon,\n    loading,\n    imageSrc,\n    title,\n    description,\n    as,\n    external,\n    colorScheme,\n    theme,\n    ...props\n}) => {\n    const Wrapper = useMemo(() => {\n        if (as) {\n            return as\n        }\n\n        if (href) {\n            return 'a'\n        }\n\n        if (onClick) {\n            return 'button'\n        }\n\n        return 'div'\n    }, [as, href, onClick])\n\n    const [iconTheme, externalIconTheme] = useMemo(() => {\n        const themeIcon = mergeTheme(Icon.theme, {\n            icon: theme.icon\n        })\n        const themeExternalIcon = mergeTheme(Icon.theme, {\n            icon: theme.iconExternal\n        })\n\n        return [themeIcon, themeExternalIcon]\n    }, [theme])\n\n    const normalColorScheme = React.useMemo(\n        () => colorScheme === 'success' ? 'done' : colorScheme,\n        [colorScheme]\n    )\n\n    const renderIcon = React.useMemo(() =>\n        icon ? (\n            <Icon name={icon} theme={iconTheme} />\n        ) : (\n            <img src={imageSrc} alt={title} role=\"presentation\" />\n        ), [icon, title, imageSrc])\n\n    return (\n        <Wrapper\n            type={Wrapper === 'button' ? 'button' : void 0}\n            href={href}\n            external={href && as ? external : void 0}\n            target={Wrapper === 'a' && external ? '_blank' : void 0}\n            rel={Wrapper === 'a' && external ? 'noopener noreferrer' : void 0}\n            onClick={loading ? void 0 : onClick}\n            {...props}\n            className={cn(theme.action, Wrapper !== 'div' && !loading && theme.active)}\n        >\n            <div className={theme.body}>\n                <div className={cn(theme.iconWrapper, theme[normalColorScheme])}>\n                    {loading ? (\n                        <Loader.Icon />\n                    ) : renderIcon}\n                    {external && (\n                        <Icon\n                            name=\"icon:core/common/external\"\n                            theme={externalIconTheme}\n                        />\n                    )}\n                </div>\n                <div className={theme.text}>\n                    <div className={typography.bodySemibold} title={title}>\n                        {title}\n                    </div>\n                    {description && (\n                        <div\n                            className={cn(\n                                typography.caption,\n                                typography.blackOpaque,\n                                theme.description\n                            )}\n                            title={description}\n                        >\n                            {description}\n                        </div>\n                    )}\n                </div>\n            </div>\n        </Wrapper>\n    )\n}\n\nFastAction.propTypes = {\n    href: PropTypes.string,\n    onClick: PropTypes.func,\n    icon: PropTypes.string,\n    loading: PropTypes.bool,\n    imageSrc: PropTypes.string,\n    title: PropTypes.string.isRequired,\n    description: PropTypes.string,\n    as: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n    external: PropTypes.bool,\n    colorScheme: PropTypes.oneOf([\n        'done',\n        'waiting',\n        'error',\n        'info',\n        'blue',\n        'green',\n        'sky-blue',\n        'aqua',\n        'yellow',\n        'black'\n    ]),\n    theme: PropTypes.object\n}\n\nFastAction.defaultProps = {\n    href: void 0,\n    onClick: void 0,\n    icon: '',\n    loading: false,\n    imageSrc: '',\n    description: '',\n    as: void 0,\n    external: void 0,\n    colorScheme: void '',\n    theme: defaultTheme\n}\n\nFastAction.displayName = 'FastActions.FastAction'\n\nexport default FastAction\n"],"names":["FastAction","href","onClick","icon","loading","imageSrc","title","description","as","external","colorScheme","theme","props","Wrapper","useMemo","themeIcon","mergeTheme","Icon","themeExternalIcon","iconExternal","iconTheme","externalIconTheme","normalColorScheme","React","renderIcon","cn","action","active","body","iconWrapper","text","typography","bodySemibold","caption","blackOpaque","propTypes","PropTypes","string","func","bool","isRequired","oneOfType","oneOf","object","defaultProps","defaultTheme","displayName"],"mappings":"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"}