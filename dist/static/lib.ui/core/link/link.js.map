{"version":3,"file":"link.js","sources":["../../src/link/link.jsx"],"sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport classnames from 'classnames'\nimport _ from 'lodash'\n\nimport { Icon } from '../icon'\n\nimport defaultTheme from './link.css'\nimport { SimpleExternalLink } from './components'\n\nconst modeToSide = {\n    'file:word': 'left',\n    'file:pdf': 'left',\n    'file:xlsx': 'left',\n    'file:html': 'left',\n    'file:txt': 'left',\n    email: 'left',\n    print: 'left',\n    download: 'left',\n    backward: 'left',\n    forward: 'right',\n    external: 'right',\n    externalBold: 'right',\n    breadcrumb: 'left'\n}\n\nconst modeToIcon = {\n    backward: 'arrow-right',\n    forward: 'arrow-right',\n    breadcrumb: 'chevronLeft'\n}\n\nconst modeToRotate = ['backward']\n\nconst checkIcon = (iconMode) => {\n    const icon = modeToIcon[iconMode] || iconMode\n\n    return Icon.namespaces['icon:core/common'][_.camelCase(icon)]\n        ? `icon:core/common/${icon}`\n        : icon\n}\n\n/**\n * [Zeplin](https://app.zeplin.io/project/5c74ef0d753f3ebccdf8f33d/screen/5ca6147577eeb0193d2fe1d7)\n *\n * @param {Object} props - свойства компонента\n * @return {JSX} - компонент\n */\n// eslint-disable-next-line complexity, comment: complexity more 12\nexport const Link = ({\n    theme,\n    icon,\n    size,\n    children,\n    mode,\n    colorScheme,\n    refWrapper,\n    external,\n    bold,\n    as: Component,\n    ...props\n}) => {\n    let iconMode = mode\n    let externalProps = {}\n    let refProps = {}\n    const customStyles = [theme[size], theme[colorScheme]]\n    const breadcrumbStyles = [theme.breadcrumb, theme.gray]\n    const extendProps = {\n        className: classnames(\n            theme.link,\n            bold && theme.linkBold,\n            Component === 'button' && theme.transparent,\n            mode !== 'breadcrumb' ? customStyles : breadcrumbStyles,\n            mode === 'underline' && theme.underline\n        ),\n        'data-unit': 'link:internal'\n    }\n\n    if (refWrapper) {\n        refProps = {\n            [typeof Component === 'string' ? 'ref' : 'refWrapper']: refWrapper\n        }\n    }\n\n    if (external) {\n        iconMode = mode.startsWith('file:')\n            ? mode\n            : `external${bold ? 'Bold' : ''}`\n        externalProps = {\n            'data-unit': 'link:external',\n            rel: 'noopener noreferrer',\n            target: '_blank'\n        }\n    }\n\n    const iconName = icon || checkIcon(iconMode)\n    const passedProps = {\n        ...props,\n        ...refProps,\n        ...extendProps,\n        ...externalProps\n    }\n\n    if (external && Component === 'a' && typeof children === 'string') {\n        return (\n            <SimpleExternalLink\n                theme={theme}\n                iconName={iconName}\n                {...passedProps}\n            >\n                {children}\n            </SimpleExternalLink>\n        )\n    }\n\n    return (\n        <Component {...passedProps}>\n            {(icon || modeToSide[iconMode] === 'left') && (\n                <Icon\n                    name={iconName}\n                    size=\"self\"\n                    theme={{\n                        self: classnames(\n                            Icon.theme.self,\n                            theme.icon,\n                            theme.left,\n                            modeToRotate.includes(mode) && theme.rotate\n                        )\n                    }}\n                />\n            )}\n\n            <span className={theme.content}>{children}</span>\n\n            {modeToSide[iconMode] === 'right' && (\n                <Icon\n                    name={iconName}\n                    size=\"self\"\n                    theme={{\n                        self: classnames(\n                            Icon.theme.self,\n                            theme.icon,\n                            theme.right\n                        )\n                    }}\n                />\n            )}\n        </Component>\n    )\n}\n\nLink.propTypes = {\n    external: PropTypes.bool,\n    children: PropTypes.node,\n    size: PropTypes.oneOf(['sm', 'lg']),\n    mode: PropTypes.string,\n    colorScheme: PropTypes.oneOf([\n        'green',\n        'gray',\n        'purple',\n        'blue',\n        'goals',\n        'sky-blue',\n        'aqua',\n        'gold',\n        'metal',\n        'orange',\n        'button',\n        'button-blue',\n        'button-purple',\n        'button-skyblue',\n        'button-aqua',\n        'button-gold',\n        'button-black',\n        'button-green',\n        'button-secondary'\n    ]),\n    theme: PropTypes.shape({\n        link: PropTypes.string,\n        sm: PropTypes.string,\n        lg: PropTypes.string,\n        content: PropTypes.string,\n        icon: PropTypes.string,\n        left: PropTypes.string,\n        right: PropTypes.string,\n        breadcrumb: PropTypes.string,\n        gray: PropTypes.string,\n        linkBold: PropTypes.string,\n        underline: PropTypes.string,\n        rotate: PropTypes.string,\n        externalWrapper: PropTypes.string,\n        last: PropTypes.string,\n        transparent: PropTypes.string\n    }),\n    refWrapper: PropTypes.func,\n    /**\n     * Может быть Link из react-router(-dom)\n     */\n    as: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n    icon: PropTypes.string,\n    bold: PropTypes.bool\n}\n\nLink.defaultProps = {\n    external: false,\n    children: void 0,\n    as: 'a',\n    size: 'lg',\n    colorScheme: 'green',\n    mode: '',\n    theme: defaultTheme,\n    refWrapper: void 0,\n    icon: void 0,\n    bold: false\n}\n\nLink.displayName = 'Link'\nLink.theme = defaultTheme\n\nexport default Link\n"],"names":["modeToSide","email","print","download","backward","forward","external","externalBold","breadcrumb","modeToIcon","modeToRotate","checkIcon","iconMode","icon","Icon","namespaces","_","camelCase","Link","theme","size","children","mode","colorScheme","refWrapper","bold","Component","as","props","externalProps","refProps","customStyles","breadcrumbStyles","gray","extendProps","className","classnames","link","linkBold","transparent","underline","startsWith","rel","target","iconName","passedProps","self","left","includes","rotate","content","right","propTypes","PropTypes","bool","node","oneOf","string","shape","sm","lg","externalWrapper","last","func","oneOfType","defaultProps","defaultTheme","displayName"],"mappings":"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"}