{"version":3,"file":"password.js","sources":["../../../src/input/password/password.jsx"],"sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport _ from 'lodash'\nimport classnames from 'classnames'\n\nimport InputWrapper from '../input'\n\nimport { Eye } from './eye'\nimport style from './input-style.css'\n\nconst defaultTheme = {\n    ...InputWrapper.theme,\n    ...style,\n    input: classnames(InputWrapper.theme.input, style.input)\n}\n\n/* eslint-disable valid-jsdoc, comment: некорректный парсинг jsdoc */\n/**\n * [Zeplin](https://app.zeplin.io/project/5c74ef0d753f3ebccdf8f33d/screen/5c8a5f5f9663d725192e86cf)\n * Поле ввода пароля\n *\n * @param {Object} props - свойства компонента\n * @return {JSX} - компонент\n */\nexport class Password extends React.PureComponent {\n    state = { showPassword: false }\n\n    getInputRef = (element) => {\n        this.props.refInput(element)\n        this.input = element\n    }\n\n    handleOpenEye = () => {\n        this.setState({ showPassword: true })\n    }\n\n    handleCloseEye = () => {\n        if (this.input) {\n            this.input.focus()\n        }\n        this.setState({ showPassword: false })\n    }\n\n    render () {\n        const { mode, theme, ...passedProps } = this.props\n\n        const showEye = !this.props.disabled && (mode !== 'hideOnEmpty' || this.props.value) && mode !== 'noEye'\n\n        return (\n            <div className={classnames(theme.passwordBlock, !this.state.showPassword ? theme.showPassword : '')}>\n                <InputWrapper\n                    {..._.omit(passedProps, 'refInput')}\n                    type={this.state.showPassword ? 'text' : 'password'}\n                    refWrapper={this.getInputRef}\n                    theme={theme}\n                />\n                {showEye &&\n                    <div className={theme.eye}>\n                        <Eye\n                            onOpen={this.handleOpenEye}\n                            onClose={this.handleCloseEye}\n                            isOpen={this.state.showPassword}\n                        />\n                    </div>\n                }\n            </div>\n        )\n    }\n}\n\nPassword.propTypes = {\n    refInput: PropTypes.func,\n    disabled: PropTypes.bool,\n    value: PropTypes.string,\n    mode: PropTypes.oneOf(['hideOnEmpty', 'noEye', 'showOnEmpty']),\n    direction: PropTypes.string,\n    translations: PropTypes.shape({\n        showPassword: PropTypes.string\n    }),\n    theme: PropTypes.shape({\n        input: PropTypes.string,\n        passwordBlock: PropTypes.string,\n        eye: PropTypes.string,\n        block: PropTypes.string,\n        disabled: PropTypes.string,\n        error: PropTypes.string,\n        icon: PropTypes.string,\n        inputIcon: PropTypes.string,\n        showPassword: PropTypes.string\n    })\n}\n\nPassword.defaultProps = {\n    refInput: _.noop,\n    disabled: false,\n    value: void 0,\n    direction: 'topLeft',\n    mode: 'hideOnEmpty',\n    translations: {\n        showPassword: void 0\n    },\n    theme: defaultTheme,\n}\n\nPassword.theme = defaultTheme\nPassword.displayName = 'Input.Password'\n"],"names":["defaultTheme","InputWrapper","theme","style","input","classnames","Password","showPassword","element","props","refInput","setState","focus","mode","passedProps","showEye","disabled","value","passwordBlock","state","_","omit","getInputRef","eye","handleOpenEye","handleCloseEye","React","PureComponent","propTypes","PropTypes","func","bool","string","oneOf","direction","translations","shape","block","error","icon","inputIcon","defaultProps","noop","displayName"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUA,IAAMA,YAAY,oDACXC,YAAY,CAACC,KADF,GAEXC,KAFW;AAGdC,EAAAA,KAAK,EAAEC,UAAU,CAACJ,YAAY,CAACC,KAAb,CAAmBE,KAApB,EAA2BD,KAAK,CAACC,KAAjC;AAHH,EAAlB;AAMA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;IACaE,QAAb;AAAA;;AAAA;;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA,4DACY;AAAEC,MAAAA,YAAY,EAAE;AAAhB,KADZ;;AAAA,kEAGkB,UAACC,OAAD,EAAa;AACvB,YAAKC,KAAL,CAAWC,QAAX,CAAoBF,OAApB;;AACA,YAAKJ,KAAL,GAAaI,OAAb;AACH,KANL;;AAAA,oEAQoB,YAAM;AAClB,YAAKG,QAAL,CAAc;AAAEJ,QAAAA,YAAY,EAAE;AAAhB,OAAd;AACH,KAVL;;AAAA,qEAYqB,YAAM;AACnB,UAAI,MAAKH,KAAT,EAAgB;AACZ,cAAKA,KAAL,CAAWQ,KAAX;AACH;;AACD,YAAKD,QAAL,CAAc;AAAEJ,QAAAA,YAAY,EAAE;AAAhB,OAAd;AACH,KAjBL;;AAAA;AAAA;;AAAA;AAAA;AAAA,6BAmBc;AAAA,wBACkC,KAAKE,KADvC;AAAA,UACEI,IADF,eACEA,IADF;AAAA,UACQX,KADR,eACQA,KADR;AAAA,UACkBY,WADlB;;AAGN,UAAMC,OAAO,GAAG,CAAC,KAAKN,KAAL,CAAWO,QAAZ,KAAyBH,IAAI,KAAK,aAAT,IAA0B,KAAKJ,KAAL,CAAWQ,KAA9D,KAAwEJ,IAAI,KAAK,OAAjG;AAEA,0BACI;AAAK,QAAA,SAAS,EAAER,UAAU,CAACH,KAAK,CAACgB,aAAP,EAAsB,CAAC,KAAKC,KAAL,CAAWZ,YAAZ,GAA2BL,KAAK,CAACK,YAAjC,GAAgD,EAAtE;AAA1B,sBACI,oBAACN,YAAD,eACQmB,CAAC,CAACC,IAAF,CAAOP,WAAP,EAAoB,UAApB,CADR;AAEI,QAAA,IAAI,EAAE,KAAKK,KAAL,CAAWZ,YAAX,GAA0B,MAA1B,GAAmC,UAF7C;AAGI,QAAA,UAAU,EAAE,KAAKe,WAHrB;AAII,QAAA,KAAK,EAAEpB;AAJX,SADJ,EAOKa,OAAO,iBACJ;AAAK,QAAA,SAAS,EAAEb,KAAK,CAACqB;AAAtB,sBACI,oBAAC,GAAD;AACI,QAAA,MAAM,EAAE,KAAKC,aADjB;AAEI,QAAA,OAAO,EAAE,KAAKC,cAFlB;AAGI,QAAA,MAAM,EAAE,KAAKN,KAAL,CAAWZ;AAHvB,QADJ,CARR,CADJ;AAmBH;AA3CL;;AAAA;AAAA,EAA8BmB,KAAK,CAACC,aAApC;AA8CArB,QAAQ,CAACsB,SAAT,GAAqB;AACjBlB,EAAAA,QAAQ,EAAEmB,SAAS,CAACC,IADH;AAEjBd,EAAAA,QAAQ,EAAEa,SAAS,CAACE,IAFH;AAGjBd,EAAAA,KAAK,EAAEY,SAAS,CAACG,MAHA;AAIjBnB,EAAAA,IAAI,EAAEgB,SAAS,CAACI,KAAV,CAAgB,CAAC,aAAD,EAAgB,OAAhB,EAAyB,aAAzB,CAAhB,CAJW;AAKjBC,EAAAA,SAAS,EAAEL,SAAS,CAACG,MALJ;AAMjBG,EAAAA,YAAY,EAAEN,SAAS,CAACO,KAAV,CAAgB;AAC1B7B,IAAAA,YAAY,EAAEsB,SAAS,CAACG;AADE,GAAhB,CANG;AASjB9B,EAAAA,KAAK,EAAE2B,SAAS,CAACO,KAAV,CAAgB;AACnBhC,IAAAA,KAAK,EAAEyB,SAAS,CAACG,MADE;AAEnBd,IAAAA,aAAa,EAAEW,SAAS,CAACG,MAFN;AAGnBT,IAAAA,GAAG,EAAEM,SAAS,CAACG,MAHI;AAInBK,IAAAA,KAAK,EAAER,SAAS,CAACG,MAJE;AAKnBhB,IAAAA,QAAQ,EAAEa,SAAS,CAACG,MALD;AAMnBM,IAAAA,KAAK,EAAET,SAAS,CAACG,MANE;AAOnBO,IAAAA,IAAI,EAAEV,SAAS,CAACG,MAPG;AAQnBQ,IAAAA,SAAS,EAAEX,SAAS,CAACG,MARF;AASnBzB,IAAAA,YAAY,EAAEsB,SAAS,CAACG;AATL,GAAhB;AATU,CAArB;AAsBA1B,QAAQ,CAACmC,YAAT,GAAwB;AACpB/B,EAAAA,QAAQ,EAAEU,CAAC,CAACsB,IADQ;AAEpB1B,EAAAA,QAAQ,EAAE,KAFU;AAGpBC,EAAAA,KAAK,EAAE,KAAK,CAHQ;AAIpBiB,EAAAA,SAAS,EAAE,SAJS;AAKpBrB,EAAAA,IAAI,EAAE,aALc;AAMpBsB,EAAAA,YAAY,EAAE;AACV5B,IAAAA,YAAY,EAAE,KAAK;AADT,GANM;AASpBL,EAAAA,KAAK,EAAEF;AATa,CAAxB;AAYAM,QAAQ,CAACJ,KAAT,GAAiBF,YAAjB;AACAM,QAAQ,CAACqC,WAAT,GAAuB,gBAAvB;;;;"}