{"version":3,"file":"memoize-func-with-args.js","sources":["../../src/utils/memoize-func-with-args.js"],"sourcesContent":["import _ from 'lodash'\n\nconst cache = []\n\n/**\n * Фабричная функция, которая кеширует саму функцию её аргументы\n * Мемоизация позволяет избежать перерендеринга, если и функция, и аргументы поменялись\n * @param {Function} func - функция, которая будет закэширована по ссылке\n * @param {...any} args - параметры, которые будут закеширован по ссылке или значению;\n *                        привязываются к результирующей функции\n * @return {Function} - закешированная функция c привязанным аргументом.\n *                      Функция будет содержать в себе переданные для кэширования\n *                      аргументы, соответственно, повторные вызовы можно делать без\n *                      аргументов\n */\nexport const memoizeFuncWithArgs = (...args) => {\n    let existingCachedItem = _.find(cache, (cachedItem) => _.isEqual(cachedItem.args, args))\n\n    if (!existingCachedItem) {\n        const [func, ...subs] = args\n\n        existingCachedItem = {\n            args,\n            result: (...nextArgs) => func(...subs, ...nextArgs)\n        }\n\n        cache.push(existingCachedItem)\n    }\n\n    return existingCachedItem.result\n}\n"],"names":["cache","memoizeFuncWithArgs","args","existingCachedItem","_","find","cachedItem","isEqual","func","subs","result","nextArgs","push"],"mappings":";;;AAEA,IAAMA,KAAK,GAAG,EAAd;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;IACaC,mBAAmB,GAAG,SAAtBA,mBAAsB,GAAa;AAAA,oCAATC,IAAS;AAATA,IAAAA,IAAS;AAAA;;AAC5C,MAAIC,kBAAkB,GAAGC,CAAC,CAACC,IAAF,CAAOL,KAAP,EAAc,UAACM,UAAD;AAAA,WAAgBF,CAAC,CAACG,OAAF,CAAUD,UAAU,CAACJ,IAArB,EAA2BA,IAA3B,CAAhB;AAAA,GAAd,CAAzB;;AAEA,MAAI,CAACC,kBAAL,EAAyB;AAAA,QACdK,IADc,GACGN,IADH;AAAA,QACLO,IADK,GACGP,IADH;AAGrBC,IAAAA,kBAAkB,GAAG;AACjBD,MAAAA,IAAI,EAAJA,IADiB;AAEjBQ,MAAAA,MAAM,EAAE;AAAA,2CAAIC,QAAJ;AAAIA,UAAAA,QAAJ;AAAA;;AAAA,eAAiBH,IAAI,MAAJ,4BAAQC,IAAR,SAAiBE,QAAjB,EAAjB;AAAA;AAFS,KAArB;AAKAX,IAAAA,KAAK,CAACY,IAAN,CAAWT,kBAAX;AACH;;AAED,SAAOA,kBAAkB,CAACO,MAA1B;AACH;;;;"}