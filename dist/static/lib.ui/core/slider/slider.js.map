{"version":3,"file":"slider.js","sources":["../../src/slider/slider.jsx"],"sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport classnames from 'classnames'\nimport _ from 'lodash'\n\nimport { omittere } from '../utils'\nimport { Input } from '../input'\nimport { Listbox } from '../listbox'\n\nimport { BaseSlider } from './base-slider'\nimport { Boundaries } from './boundaries'\nimport defaultTheme from './style.css'\n\n/* eslint-disable valid-jsdoc, comment: некорректный парсинг jsdoc */\n/**\n * [Zeplin](https://app.zeplin.io/project/59312e1ebdf1da6fc8d37ffb/dashboard?q=Blocks%20Slider)\n * Выбор значения с ползунком и полем ввода\n *\n * @param {Object} props - свойства компонента\n * @return {JSX} - компонент\n */\n// eslint-disable-next-line complexity, comment: TODO - decrease complexity\nexport const Slider = ({\n    value,\n    onChange,\n    onFocus,\n    onBlur,\n    disabled,\n    error,\n    mode,\n    colorScheme,\n    min,\n    max,\n    step,\n    digits,\n    grid,\n    options,\n    transitionDuration,\n    tabIndex,\n    id,\n    placeholder,\n    active,\n    formName,\n    prefix,\n    suffix,\n    decimalSymbol,\n    includeThousandsSeparator,\n    thousandsSeparatorSymbol,\n    allowDecimal,\n    allowNegative,\n    decimalLimit,\n    ...props\n}) => {\n    const sliderMode = mode === 'input:segmented' || mode === 'segmented' ? 'segmented' : void 0\n\n    const onChangeOption = React.useCallback((index, e) => {\n        onChange(options[index].value, e)\n    }, [options])\n\n    const listBoxRef = React.useRef(null)\n\n    return (\n        <div\n            {...props}\n            className={classnames(\n                defaultTheme.slider,\n                disabled && defaultTheme.disabled,\n                options && listBoxRef?.current?.state?.open && defaultTheme.withOptions\n            )}\n        >\n            {options ? (\n                <Listbox\n                    ref={listBoxRef}\n                    value={value}\n                    onChange={onChange}\n                    onFocus={onFocus}\n                    onBlur={onBlur}\n                    options={options}\n                    tabIndex={tabIndex}\n                    active={active}\n                    formName={formName}\n                    error={error}\n                    id={id}\n                    mode=\"autoselect\"\n                />\n            ) : (\n                <Input.Numeric\n                    value={value}\n                    onChange={onChange}\n                    onFocus={onFocus}\n                    onBlur={onBlur}\n                    decimalSymbol={decimalSymbol}\n                    includeThousandsSeparator={includeThousandsSeparator}\n                    thousandsSeparatorSymbol={thousandsSeparatorSymbol}\n                    allowDecimal={allowDecimal}\n                    allowNegative={allowNegative}\n                    decimalLimit={decimalLimit}\n                    disabled={disabled}\n                    tabIndex={tabIndex}\n                    placeholder={placeholder}\n                    active={active}\n                    formName={formName}\n                    prefix={prefix}\n                    suffix={suffix}\n                    error={error}\n                    id={id}\n                    min={_.first(grid) || min}\n                    max={_.last(grid) || max}\n                    allowEmpty={false}\n                />\n            )}\n            <BaseSlider\n                value={options ? options.findIndex((item) => item.value === value) : value}\n                onChange={options ? onChangeOption : onChange}\n                mode={sliderMode}\n                colorScheme={colorScheme}\n                min={min}\n                max={max}\n                step={step}\n                digits={digits}\n                error={error}\n                disabled={disabled}\n                transitionDuration={transitionDuration}\n                grid={options ? options.map((item, index) => index) : grid}\n            />\n            <Boundaries\n                decimalSymbol={decimalSymbol}\n                includeThousandsSeparator={includeThousandsSeparator}\n                thousandsSeparatorSymbol={thousandsSeparatorSymbol}\n                allowDecimal={allowDecimal}\n                allowNegative={allowNegative}\n                decimalLimit={decimalLimit}\n                options={options}\n                grid={grid}\n                min={min}\n                max={max}\n                prefix={prefix}\n                suffix={suffix}\n            />\n        </div>\n    )\n}\n\nSlider.propTypes = {\n    colorScheme: PropTypes.oneOf([\n        'base',\n        'purple',\n        'blue',\n        'green',\n        'skyblue',\n        'black',\n        'gold',\n        'aqua'\n    ]).isRequired,\n    /**\n     * \"segmented\" for render delimiters\n     */\n    mode: PropTypes.oneOf(['segmented']),\n\n    value: PropTypes.string.isRequired,\n    onChange: PropTypes.func,\n    onFocus: PropTypes.func,\n    onBlur: PropTypes.func,\n    disabled: PropTypes.bool,\n    formName: PropTypes.string,\n    active: PropTypes.bool,\n\n    min: PropTypes.oneOfType([\n        PropTypes.number,\n        PropTypes.string\n    ]),\n    max: PropTypes.oneOfType([\n        PropTypes.number,\n        PropTypes.string\n    ]),\n    step: PropTypes.oneOfType([\n        PropTypes.number,\n        PropTypes.string\n    ]),\n    /**\n     * Auto generation of step. props.step with this prop is wanted step size or below\n     */\n    digits: PropTypes.arrayOf(PropTypes.number),\n    /**\n     * Array of prepared grid values (for example 100, 200, 500, 1000, 10000, 100000)\n     */\n    grid: PropTypes.arrayOf(\n        PropTypes.oneOfType([\n            PropTypes.number,\n            PropTypes.string\n        ])\n    ),\n    /**\n     * Array of select options (title, value)\n     */\n    options: PropTypes.arrayOf(\n        PropTypes.shape({\n            title: PropTypes.string,\n            value: PropTypes.oneOfType([\n                PropTypes.string,\n                PropTypes.number\n            ])\n        })\n    ),\n\n    error: PropTypes.string,\n    prefix: PropTypes.string,\n    suffix: PropTypes.string,\n    thousandsSeparatorSymbol: PropTypes.string,\n    placeholder: PropTypes.string,\n    id: PropTypes.string,\n    decimalSymbol: PropTypes.string,\n    includeThousandsSeparator: PropTypes.bool,\n    allowDecimal: PropTypes.bool,\n    allowNegative: PropTypes.bool,\n    decimalLimit: PropTypes.number,\n    transitionDuration: PropTypes.number,\n    tabIndex: PropTypes.number\n}\n\nSlider.defaultProps = {\n    colorScheme: 'base',\n    mode: void '',\n\n    onChange: _.noop,\n    onFocus: _.noop,\n    onBlur: _.noop,\n    tabIndex: 0,\n    disabled: false,\n    formName: void '',\n    active: false,\n\n    min: 0,\n    max: 100,\n    step: 1,\n    digits: void 0,\n    grid: void 0,\n    options: void 0,\n\n    error: void 0,\n    prefix: '',\n    suffix: '',\n    thousandsSeparatorSymbol: ' ',\n    decimalSymbol: ',',\n    placeholder: void '',\n    id: void '',\n    includeThousandsSeparator: true,\n    allowDecimal: false,\n    allowNegative: false,\n    decimalLimit: void 0,\n    transitionDuration: 0\n}\n\nSlider.displayName = 'Slider'\nSlider.theme = defaultTheme\n\nconst formOmitProps = [\n    'asyncValidating',\n    'autofilled',\n    'dirty',\n    'dispatch',\n    'hasServerError',\n    'initialValue',\n    'invalid',\n    'pristine',\n    'submitFailed',\n    'submitting',\n    'touched',\n    'valid',\n    'visited',\n    'warning'\n]\n\nexport default omittere(formOmitProps)(Slider)\n"],"names":["Slider","value","onChange","onFocus","onBlur","disabled","error","mode","colorScheme","min","max","step","digits","grid","options","transitionDuration","tabIndex","id","placeholder","active","formName","prefix","suffix","decimalSymbol","includeThousandsSeparator","thousandsSeparatorSymbol","allowDecimal","allowNegative","decimalLimit","props","sliderMode","onChangeOption","React","useCallback","index","e","listBoxRef","useRef","classnames","defaultTheme","slider","current","state","open","withOptions","_","first","last","findIndex","item","map","propTypes","PropTypes","oneOf","isRequired","string","func","bool","oneOfType","number","arrayOf","shape","title","defaultProps","noop","displayName","theme","formOmitProps","omittere"],"mappings":"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"}