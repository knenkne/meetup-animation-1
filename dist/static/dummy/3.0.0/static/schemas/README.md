# JSON-схемы взаимодействий

## Установка зависимостей

1. Загрузить и установить [Node.js](https://nodejs.org/en/) версии 8 или старше
1. Настроить npm [по инструкции](https://sbtatlas.sigma.sbrf.ru/wiki/pages/viewpage.action?pageId=81903821)
1. В директории репозитория выполнить команду `npm install`


## Соглашения по структуре директорий и именам

Скомпилированные схемы для DP: `/json/<SchemaName>[/version]/<request|response>.json`

Исходники схем: `/json/<SchemaName>[/version]/src/<request|response>.json`

Тесты для схем: `/json/<SchemaName>[/version]/tests/<request|response>.spec.js`

Внешние схемы типов: `/json/<SchemaName>[/version]/defs/<ExternalType>.json`

Блок версии опциональный; если схему можно обновлять без версионирования, его можно опустить.

Для именования схем используется CamelCase.

Идентификаторы схем строятся от корня директории `json` без начального слэша.


## Правила внесения изменений

Перед пушем всегда необходимо:

- проверять корректность исполнения тестов с помощью команды `npm test`,
- собирать зависимости схем в родительскую схему с помощью команды `npm run compile`
