{"version":3,"file":"horizontal-scroll.js","sources":["../../src/horizontal-scroll/horizontal-scroll.jsx"],"sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport _ from 'lodash'\nimport classnames from 'classnames'\n\nimport { Icon } from '../icon'\nimport { FullWidth } from '../full-width'\nimport { isMobilePlatform } from '../utils'\n\nimport { leftCheck, rightCheck, smoothScroll } from './utils'\nimport defaultTheme from './style.css'\n\nconst SCROLL_WIDTH = 300\nconst SCROLL_TIME = 1000\n\n/* eslint-disable valid-jsdoc, comment: некорректный парсинг jsdoc */\n/**\n * Технический компонент для управления горизонтальным скроллом (используется в Tabs)\n *\n * @param {Object} props - свойства компонента\n * @return {JSX} - компонент\n */\nexport class HorizontalScroll extends React.PureComponent {\n    static propTypes = {\n        children: PropTypes.node,\n        theme: PropTypes.shape({\n            scroll: PropTypes.string,\n            button: PropTypes.string,\n            buttonLeft: PropTypes.string,\n            buttonRight: PropTypes.string,\n            buttonOpened: PropTypes.string,\n            fading: PropTypes.string,\n            fadingLeft: PropTypes.string,\n            fadingRight: PropTypes.string,\n            contents: PropTypes.string,\n            mobile: PropTypes.string,\n            desktop: PropTypes.string\n        }),\n        refWrapper: PropTypes.func,\n        a11y: PropTypes.shape({\n            titleBackward: PropTypes.string,\n            titleForward: PropTypes.string\n        }),\n        scrollWidth: PropTypes.number\n    }\n\n    static defaultProps = {\n        children: void 0,\n        theme: defaultTheme,\n        refWrapper: _.noop,\n        a11y: {\n            titleBackward: 'Листать назад',\n            titleForward: 'Листать вперед'\n        },\n        scrollWidth: SCROLL_WIDTH\n    }\n\n    componentDidMount () {\n        this.forceUpdate()\n    }\n\n    setContentsRef = (component) => {\n        this.contents = component\n    }\n\n    handleLeftClick = () => {\n        smoothScroll(this.contents, -this.props.scrollWidth, SCROLL_TIME)\n        this.forceUpdate()\n    }\n\n    handleRightClick = () => {\n        smoothScroll(this.contents, this.props.scrollWidth, SCROLL_TIME)\n        this.forceUpdate()\n    }\n\n    handleScroll = () => {\n        this.forceUpdate()\n    }\n\n    render () {\n        const { children, theme, refWrapper, a11y, parentId } = this.props\n\n        const left = leftCheck(this.contents)\n        const right = rightCheck(this.contents)\n        const isMobile = isMobilePlatform()\n\n        const Wrapper = isMobile ? FullWidth : 'div'\n        const WrapperInner = isMobile ? FullWidth.Inner : 'div'\n\n        return (\n            <Wrapper ref={refWrapper} className={theme.scroll}>\n                {!isMobile && (\n                    <button\n                        className={classnames(\n                            theme.button,\n                            theme.buttonLeft,\n                            left && theme.buttonOpened\n                        )}\n                        onClick={this.handleLeftClick}\n                        disabled={!left}\n                        type=\"button\"\n                        title={a11y.titleBackward}\n                    >\n                        <Icon name=\"icon:core/common/arrow-right\" size=\"md\" />\n                    </button>\n                )}\n\n                <WrapperInner\n                    className={classnames(\n                        theme.contents,\n                        isMobile && theme.mobile\n                    )}\n                    ref={this.setContentsRef}\n                    onScroll={this.handleScroll}\n                    id={parentId}\n                >\n                    {children}\n                </WrapperInner>\n\n                {!isMobile && (\n                    <div\n                        className={classnames(\n                            theme.fading,\n                            left && theme.fadingLeft,\n                            right && theme.fadingRight\n                        )}\n                    />\n                )}\n\n                {!isMobile && (\n                    <button\n                        className={classnames(\n                            theme.button,\n                            right && theme.buttonOpened\n                        )}\n                        onClick={this.handleRightClick}\n                        disabled={!right}\n                        type=\"button\"\n                        title={a11y.titleForward}\n                    >\n                        <Icon name=\"icon:core/common/arrow-right\" size=\"md\" />\n                    </button>\n                )}\n            </Wrapper>\n        )\n    }\n}\n\nHorizontalScroll.theme = defaultTheme\nHorizontalScroll.displayName = 'HorizontalScroll'\nexport default HorizontalScroll\n"],"names":["SCROLL_WIDTH","SCROLL_TIME","HorizontalScroll","component","contents","smoothScroll","props","scrollWidth","forceUpdate","children","theme","refWrapper","a11y","parentId","left","leftCheck","right","rightCheck","isMobile","isMobilePlatform","Wrapper","FullWidth","WrapperInner","Inner","scroll","classnames","button","buttonLeft","buttonOpened","handleLeftClick","titleBackward","mobile","setContentsRef","handleScroll","fading","fadingLeft","fadingRight","handleRightClick","titleForward","React","PureComponent","PropTypes","node","shape","string","buttonRight","desktop","func","number","defaultTheme","_","noop","displayName"],"mappings":"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"}