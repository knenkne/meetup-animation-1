{"version":3,"file":"index.js","sources":["../../src/card-number/index.jsx"],"sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport { compact } from 'lodash'\nimport classnames from 'classnames'\n\nimport style from './style.css'\n\nconst MAX_CARD_NUMBER_LENGTH = 18\nconst MAX_CARD_NUMBER_LENGTH_GROUPS_COUNT = 5\nconst COMMON_CARD_NUMBER_LENGTH_GROUPS_COUNT = 4\nconst MAX_CARD_NUMBER_LENGTH_GROUP_LENGTH = 2\nconst COMMON_CARD_NUMBER_LENGTH_GROUP_LENGTH = 4\n\nexport const splitNumber = (value) => {\n    const draftValue = String(value)\n        .replace(/ /g, '')\n        .replace(/\\*/g, 'â€¢')\n\n    const numbers = draftValue.split('').reverse()\n\n    const groups = []\n\n    const groupsCount = draftValue.length === MAX_CARD_NUMBER_LENGTH\n        ? MAX_CARD_NUMBER_LENGTH_GROUPS_COUNT\n        : COMMON_CARD_NUMBER_LENGTH_GROUPS_COUNT\n\n    let nextNumberPosition = 0\n\n    for (let groupIndex = 0; groupIndex < groupsCount; groupIndex += 1) {\n        const groupLength = draftValue.length === MAX_CARD_NUMBER_LENGTH && groupIndex === 0\n            ? MAX_CARD_NUMBER_LENGTH_GROUP_LENGTH\n            : COMMON_CARD_NUMBER_LENGTH_GROUP_LENGTH\n\n        for (let numberIndex = 0; numberIndex < groupLength; numberIndex += 1) {\n            groups[groupIndex] = groups[groupIndex] || ''\n            groups[groupIndex] = (numbers[nextNumberPosition] || '') + groups[groupIndex]\n            nextNumberPosition += 1\n        }\n    }\n\n    return compact(groups.reverse())\n}\n\nexport const CardNumber = ({ value, ...props }) => {\n    const groups = splitNumber(value)\n\n    return (\n        <span {...props} className={classnames(style.cardNumber, props.className)}>\n            {groups.map((group, index) => (\n                <React.Fragment key={group + index}>\n                    {Boolean(index) && <span aria-hidden=\"true\">&nbsp;</span>}\n                    {group}\n                </React.Fragment>\n            ))}\n        </span>\n    )\n}\n\nCardNumber.propTypes = {\n    value: PropTypes.string.isRequired,\n    className: PropTypes.string\n}\n\nCardNumber.defaultProps = {\n    className: void ''\n}\n\nexport default CardNumber\n"],"names":["MAX_CARD_NUMBER_LENGTH","MAX_CARD_NUMBER_LENGTH_GROUPS_COUNT","COMMON_CARD_NUMBER_LENGTH_GROUPS_COUNT","MAX_CARD_NUMBER_LENGTH_GROUP_LENGTH","COMMON_CARD_NUMBER_LENGTH_GROUP_LENGTH","splitNumber","value","draftValue","String","replace","numbers","split","reverse","groups","groupsCount","length","nextNumberPosition","groupIndex","groupLength","numberIndex","compact","CardNumber","props","classnames","style","cardNumber","className","map","group","index","Boolean","propTypes","PropTypes","string","isRequired","defaultProps"],"mappings":";;;;;;;AAOA,IAAMA,sBAAsB,GAAG,EAA/B;AACA,IAAMC,mCAAmC,GAAG,CAA5C;AACA,IAAMC,sCAAsC,GAAG,CAA/C;AACA,IAAMC,mCAAmC,GAAG,CAA5C;AACA,IAAMC,sCAAsC,GAAG,CAA/C;IAEaC,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAW;AAClC,MAAMC,UAAU,GAAGC,MAAM,CAACF,KAAD,CAAN,CACdG,OADc,CACN,IADM,EACA,EADA,EAEdA,OAFc,CAEN,KAFM,EAEC,GAFD,CAAnB;AAIA,MAAMC,OAAO,GAAGH,UAAU,CAACI,KAAX,CAAiB,EAAjB,EAAqBC,OAArB,EAAhB;AAEA,MAAMC,MAAM,GAAG,EAAf;AAEA,MAAMC,WAAW,GAAGP,UAAU,CAACQ,MAAX,KAAsBf,sBAAtB,GACdC,mCADc,GAEdC,sCAFN;AAIA,MAAIc,kBAAkB,GAAG,CAAzB;;AAEA,OAAK,IAAIC,UAAU,GAAG,CAAtB,EAAyBA,UAAU,GAAGH,WAAtC,EAAmDG,UAAU,IAAI,CAAjE,EAAoE;AAChE,QAAMC,WAAW,GAAGX,UAAU,CAACQ,MAAX,KAAsBf,sBAAtB,IAAgDiB,UAAU,KAAK,CAA/D,GACdd,mCADc,GAEdC,sCAFN;;AAIA,SAAK,IAAIe,WAAW,GAAG,CAAvB,EAA0BA,WAAW,GAAGD,WAAxC,EAAqDC,WAAW,IAAI,CAApE,EAAuE;AACnEN,MAAAA,MAAM,CAACI,UAAD,CAAN,GAAqBJ,MAAM,CAACI,UAAD,CAAN,IAAsB,EAA3C;AACAJ,MAAAA,MAAM,CAACI,UAAD,CAAN,GAAqB,CAACP,OAAO,CAACM,kBAAD,CAAP,IAA+B,EAAhC,IAAsCH,MAAM,CAACI,UAAD,CAAjE;AACAD,MAAAA,kBAAkB,IAAI,CAAtB;AACH;AACJ;;AAED,SAAOI,OAAO,CAACP,MAAM,CAACD,OAAP,EAAD,CAAd;AACH;IAEYS,UAAU,GAAG,SAAbA,UAAa,OAAyB;AAAA,MAAtBf,KAAsB,QAAtBA,KAAsB;AAAA,MAAZgB,KAAY;;AAC/C,MAAMT,MAAM,GAAGR,WAAW,CAACC,KAAD,CAA1B;AAEA,sBACI,yCAAUgB,KAAV;AAAiB,IAAA,SAAS,EAAEC,UAAU,CAACC,KAAK,CAACC,UAAP,EAAmBH,KAAK,CAACI,SAAzB;AAAtC,MACKb,MAAM,CAACc,GAAP,CAAW,UAACC,KAAD,EAAQC,KAAR;AAAA,wBACR,oBAAC,KAAD,CAAO,QAAP;AAAgB,MAAA,GAAG,EAAED,KAAK,GAAGC;AAA7B,OACKC,OAAO,CAACD,KAAD,CAAP,iBAAkB;AAAM,qBAAY;AAAlB,cADvB,EAEKD,KAFL,CADQ;AAAA,GAAX,CADL,CADJ;AAUH;AAEDP,UAAU,CAACU,SAAX,GAAuB;AACnBzB,EAAAA,KAAK,EAAE0B,SAAS,CAACC,MAAV,CAAiBC,UADL;AAEnBR,EAAAA,SAAS,EAAEM,SAAS,CAACC;AAFF,CAAvB;AAKAZ,UAAU,CAACc,YAAX,GAA0B;AACtBT,EAAAA,SAAS,EAAE,KAAK;AADM,CAA1B;;;;;"}