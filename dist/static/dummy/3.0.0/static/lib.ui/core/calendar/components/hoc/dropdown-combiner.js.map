{"version":3,"file":"dropdown-combiner.js","sources":["../../../../src/calendar/components/hoc/dropdown-combiner.jsx"],"sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport _ from 'lodash'\nimport classnames from 'classnames'\n\nimport { Dropdown } from '../../../dropdown'\nimport { omittere } from '../../../utils'\nimport { CalendarItem } from '../calendar-item/calendar-item'\nimport { SingleInput } from '../../date-picker/single-input'\nimport style from '../../style.css'\n\nconst KEY_ENTER = 13\n\nexport const dropdownCombiner = (Input = SingleInput, Calendar = CalendarItem, contentsStyle = style.contentsView) => {\n    const InputHOCed = omittere(['forceOpened', 'initialTime', 'type'])(Input)\n\n    return class Wrapped extends React.Component {\n        static displayName = 'dropdownCombinerHOC'\n\n        static propTypes = {\n            value: PropTypes.string,\n            showDate: PropTypes.string,\n            initialValue: PropTypes.string,\n            mode: PropTypes.string,\n            restriction: PropTypes.func,\n            onChange: PropTypes.func,\n            onFocus: PropTypes.func,\n            onBlur: PropTypes.func,\n            error: PropTypes.string,\n            disabled: PropTypes.bool,\n            translations: PropTypes.object,\n            startingYear: PropTypes.string\n        }\n\n        static defaultProps = {\n            value: '',\n            showDate: '',\n            mode: 'default',\n            initialValue: '',\n            restriction: _.stubTrue,\n            onChange: _.noop,\n            onFocus: _.noop,\n            onBlur: _.noop,\n            error: void 0,\n            disabled: false,\n            translations: void 0,\n            startingYear: void 0\n        }\n\n        state = {\n            enter: false,\n            isOpened: false,\n        }\n\n        handleKeyDown = (e) => {\n            if (e.keyCode === KEY_ENTER) {\n                this.setState({\n                    enter: true\n                })\n            }\n        }\n\n        handleFocus = () => {\n            this.setState({\n                enter: false\n            })\n        }\n\n        handleToggle = () => this.setState((state) => ({ isOpened: !state.isOpened }))\n\n        render () {\n            const {\n                value,\n                restriction,\n                translations,\n                initialValue,\n                onChange,\n                disabled,\n                mode,\n                showDate,\n                startingYear,\n                ...props\n            } = this.props\n\n            const inputPassedProps = {\n                disabled,\n                value,\n                onChange,\n                ...props\n            }\n            if (disabled) {\n                return (<InputHOCed {...inputPassedProps} />)\n            }\n\n            return (\n                <Dropdown\n                    data-unit=\"calendar\"\n                    mode=\"focus\"\n                    onKeyDown={this.handleKeyDown}\n                    onFocus={this.handleFocus}\n                    onOpen={this.handleToggle}\n                    onClose={this.handleToggle}\n                >\n                    <InputHOCed {...inputPassedProps} />\n                    <Dropdown.Contents\n                        theme={{\n                            ...Dropdown.theme,\n                            contents: classnames(Dropdown.theme.contents, style.contents, this.state.enter && style.hidden),\n                            contentsView: classnames(Dropdown.theme.contentsView, contentsStyle)\n                        }}\n                        aria-hidden=\"true\"\n                        align={Dropdown.utils.autoLeftCheckByWindow}\n                    >\n                        <Calendar\n                            isOpened={this.state.isOpened}\n                            value={value}\n                            mode={mode}\n                            to={showDate}\n                            restriction={restriction}\n                            translations={translations}\n                            initialValue={initialValue}\n                            onChange={onChange}\n                            startingYear={startingYear}\n                        />\n                    </Dropdown.Contents>\n                </Dropdown>\n            )\n        }\n    }\n}\n"],"names":["KEY_ENTER","dropdownCombiner","Input","SingleInput","Calendar","CalendarItem","contentsStyle","style","contentsView","InputHOCed","omittere","enter","isOpened","e","keyCode","setState","state","props","value","restriction","translations","initialValue","onChange","disabled","mode","showDate","startingYear","inputPassedProps","handleKeyDown","handleFocus","handleToggle","Dropdown","theme","contents","classnames","hidden","utils","autoLeftCheckByWindow","React","Component","PropTypes","string","func","onFocus","onBlur","error","bool","object","_","stubTrue","noop"],"mappings":"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"}