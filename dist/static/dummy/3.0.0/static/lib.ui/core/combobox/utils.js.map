{"version":3,"file":"utils.js","sources":["../../src/combobox/utils.js"],"sourcesContent":["import _ from 'lodash'\n\nexport const canBeRequestedByScrolling = (withPagination, event, allLoaded, loading) => {\n    if (withPagination && !allLoaded && !loading && event.target) {\n        return event.target.scrollHeight !== 0 && event.target.scrollHeight === event.target.scrollTop + event.target.clientHeight\n    }\n\n    return false\n}\n\nexport const canBeRequestedByTyping = (query, value) =>\n    query || value\n\nexport const autoScroll = (node, contentPlate) => {\n    if (contentPlate && node) {\n        const elementPos = contentPlate.scrollTop + node.getBoundingClientRect().top - contentPlate.getBoundingClientRect().top\n        const height = contentPlate.clientHeight\n        const currentPos = contentPlate.scrollTop\n\n        if (!_.inRange(elementPos, currentPos, currentPos + height)) {\n            contentPlate.scrollTop = Math.abs(currentPos - elementPos) < Math.abs(currentPos + height - elementPos) ? elementPos : elementPos - height + node.clientHeight // eslint-disable-line no-param-reassign, comment: скролл по клавиатуре\n        } else if (!_.inRange(elementPos + node.clientHeight, currentPos, currentPos + height)) {\n            contentPlate.scrollTop = elementPos - height + node.clientHeight // eslint-disable-line no-param-reassign, comment: скролл по клавиатуре\n        }\n    }\n}\n"],"names":["canBeRequestedByScrolling","withPagination","event","allLoaded","loading","target","scrollHeight","scrollTop","clientHeight","canBeRequestedByTyping","query","value","autoScroll","node","contentPlate","elementPos","getBoundingClientRect","top","height","currentPos","_","inRange","Math","abs"],"mappings":";;IAEaA,yBAAyB,GAAG,SAA5BA,yBAA4B,CAACC,cAAD,EAAiBC,KAAjB,EAAwBC,SAAxB,EAAmCC,OAAnC,EAA+C;AACpF,MAAIH,cAAc,IAAI,CAACE,SAAnB,IAAgC,CAACC,OAAjC,IAA4CF,KAAK,CAACG,MAAtD,EAA8D;AAC1D,WAAOH,KAAK,CAACG,MAAN,CAAaC,YAAb,KAA8B,CAA9B,IAAmCJ,KAAK,CAACG,MAAN,CAAaC,YAAb,KAA8BJ,KAAK,CAACG,MAAN,CAAaE,SAAb,GAAyBL,KAAK,CAACG,MAAN,CAAaG,YAA9G;AACH;;AAED,SAAO,KAAP;AACH;IAEYC,sBAAsB,GAAG,SAAzBA,sBAAyB,CAACC,KAAD,EAAQC,KAAR;AAAA,SAClCD,KAAK,IAAIC,KADyB;AAAA;IAGzBC,UAAU,GAAG,SAAbA,UAAa,CAACC,IAAD,EAAOC,YAAP,EAAwB;AAC9C,MAAIA,YAAY,IAAID,IAApB,EAA0B;AACtB,QAAME,UAAU,GAAGD,YAAY,CAACP,SAAb,GAAyBM,IAAI,CAACG,qBAAL,GAA6BC,GAAtD,GAA4DH,YAAY,CAACE,qBAAb,GAAqCC,GAApH;AACA,QAAMC,MAAM,GAAGJ,YAAY,CAACN,YAA5B;AACA,QAAMW,UAAU,GAAGL,YAAY,CAACP,SAAhC;;AAEA,QAAI,CAACa,CAAC,CAACC,OAAF,CAAUN,UAAV,EAAsBI,UAAtB,EAAkCA,UAAU,GAAGD,MAA/C,CAAL,EAA6D;AACzDJ,MAAAA,YAAY,CAACP,SAAb,GAAyBe,IAAI,CAACC,GAAL,CAASJ,UAAU,GAAGJ,UAAtB,IAAoCO,IAAI,CAACC,GAAL,CAASJ,UAAU,GAAGD,MAAb,GAAsBH,UAA/B,CAApC,GAAiFA,UAAjF,GAA8FA,UAAU,GAAGG,MAAb,GAAsBL,IAAI,CAACL,YAAlJ,CADyD;AAE5D,KAFD,MAEO,IAAI,CAACY,CAAC,CAACC,OAAF,CAAUN,UAAU,GAAGF,IAAI,CAACL,YAA5B,EAA0CW,UAA1C,EAAsDA,UAAU,GAAGD,MAAnE,CAAL,EAAiF;AACpFJ,MAAAA,YAAY,CAACP,SAAb,GAAyBQ,UAAU,GAAGG,MAAb,GAAsBL,IAAI,CAACL,YAApD,CADoF;AAEvF;AACJ;AACJ;;;;"}