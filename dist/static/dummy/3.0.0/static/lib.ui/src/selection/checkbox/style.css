@import '../../utils/styles/semantic-palette.config.css';
@import '../../styles/colors.config.css';
@import '../../utils/styles/font-sizes.config.css';
@import '../../utils/styles/offsets.config.css';
@import '../../styles/radius.config.css';

:root {
    --point-size: 20px;
}

.checkbox {
    display: inline-flex;
    position: relative;
    margin: 0;
    margin-left: -12px;
    padding: 7px 11px;
    border: 1px dotted var(--no-color);
    border-radius: var(--xs-border-radius);
    cursor: auto;
    user-select: none;

    body:not(:global(.pointer-events)) &:focus-within {
        border-color: var(--focus-color);
    }

    svg {
        margin: 0 auto;
    }

    .children {
        padding-left: 12px;
        letter-spacing: var(--letter-spacing-web);
        color: var(--gray-55-alpha);
        cursor: pointer;
    }

    .md {
        & ~ .button,
        & ~ .switch {
            margin-top: 2px;
        }

        & ~ .children {
            font-size: var(--font-size-body-web);
            line-height: var(--line-height-body-web);
        }
    }

    .sm {
        & ~ .children {
            font-size: var(--font-size-caption-web);
            line-height: var(--line-height-caption-web);
        }
    }

    .button {
        position: relative;
        height: var(--point-size);
        cursor: pointer;

        &::before {
            content: '';
            display: block;
            border: 1px solid var(--gray-3);
            width: var(--point-size);
            height: var(--point-size);
            background-color: var(--white);
            border-radius: var(--xs-border-radius);
            box-sizing: border-box;
            transition: background-color 0.17s ease-in-out, border-color 0.17s ease-in-out;
        }

        .icon {
            display: none;
            position: absolute;
            width: var(--point-size);
            height: var(--point-size);
            top: 0;
            left: 0;
        }
    }

    .switch {
        position: relative;
        width: 36px;
        height: 20px;
        flex-shrink: 0;
        cursor: pointer;
        border-radius: 10px;
        background-color: var(--gray-2);
        transition: background-color 0.17s ease-in-out;

        &::before {
            content: '';
            position: absolute;
            left: 3px;
            top: 2px;
            height: 16px;
            width: 16px;
            border-radius: 100%;
            box-shadow: 0 2px 4px 0 rgba(3, 3, 3, 0.44);
            background-color: var(--white);
            transition: 0.4s;
            transition-timing-function: ease-in-out;
        }

        & ~ .children {
            padding-left: 8px;
        }
    }

    .input {
        position: absolute;
        opacity: 0;
        top: 0;
        left: 0;
        margin: 3px;

        body:not(:global(.pointer-events)) &:focus {
            & ~ .button::before {
                border-color: var(--green-5);
            }

            & ~ .children {
                color: var(--gray-70-alpha);
            }
        }

        &:hover {
            & ~ .button::before {
                border-color: var(--green-5);
            }

            & ~ .children {
                color: var(--gray-70-alpha);
            }
        }

        &:disabled {
            & ~ .button::before {
                border-color: var(--gray-2);
                background-color: var(--gray-2);
            }

            & ~ .switch::before {
                opacity: 0.66;
            }

            & ~ .children {
                color: var(--gray-55-alpha);
            }

            & ~ .button,
            & ~ .button::before,
            & ~ .switch,
            &:hover ~ .children {
                cursor: default;
            }
        }

        &:checked {
            & ~ .children {
                color: var(--text-main-color);
            }

            body:not(:global(.pointer-events)) &:focus {
                & ~ .children {
                    color: var(--text-main-color);
                }
            }

            & ~ .button {
                &::before {
                    border-color: var(--green-5);
                    background-color: var(--green-5);
                }

                .icon {
                    display: block;
                }
            }

            & ~ .switch {
                background-color: var(--green-5);

                &::before {
                    transform: translateX(14px);
                }
            }

            &:hover ~ .button::before,
            &:hover ~ .switch {
                border-color: var(--green-6);
                background-color: var(--green-6);
            }

            &:disabled {
                & ~ .button::before {
                    border-color: var(--gray-2);
                    background-color: var(--gray-2);
                }

                &:hover ~ .switch {
                    background-color: var(--green-5);
                }
            }
        }
    }

    &.error .input {
        & ~ .switch {
            background-color: var(--orange-5);
        }

        body:not(:global(.pointer-events)) &:focus {
            & ~ .button::before {
                border-color: var(--orange-5);
            }
        }

        & ~ .button::before {
            border-color: var(--orange-5);
        }

        &:checked {
            & ~ .button::before {
                background-color: var(--orange-5);
            }
        }

        &:hover {
            & ~ .button::before {
                border-color: var(--orange-5);
            }

            & ~ .switch {
                background-color: var(--orange-5);
            }
        }

        &:disabled ~ .button::before {
            border-color: var(--gray-2);
            background-color: var(--gray-2);
        }
    }
}

/* Themes */

/* Инвестиции */
.purple {
    .input {
        & ~ .button::before {
            border: 1px solid var(--gray-3);
        }

        &:hover ~ .button::before {
            border-color: var(--violet-5);
        }

        body:not(:global(.pointer-events)) &:focus {
            & ~ .button::before {
                border-color: var(--violet-5);
            }
        }

        &:checked {
            & ~ .button::before {
                border-color: var(--violet-5);
                background-color: var(--violet-5);
            }

            &:hover ~ .button::before {
                border-color: var(--violet-6);
                background-color: var(--violet-6);
            }

            & ~ .switch {
                background-color: var(--violet-5);
            }

            &:hover ~ .switch {
                background-color: var(--violet-6);
            }

            &:disabled:hover ~ .switch {
                background-color: var(--violet-5);
            }
        }
    }
}

/* Потреб */
.blue {
    .input {
        & ~ .button::before {
            border: 1px solid var(--gray-3);
        }

        &:hover ~ .button::before {
            border-color: var(--blue-5);
        }

        body:not(:global(.pointer-events)) &:focus {
            & ~ .button::before {
                border-color: var(--blue-5);
            }
        }

        &:checked {
            & ~ .button::before {
                border-color: var(--blue-5);
                background-color: var(--blue-5);
            }

            &:hover ~ .button::before {
                border-color: var(--blue-6);
                background-color: var(--blue-6);
            }

            & ~ .switch {
                background-color: var(--blue-5);
            }

            &:hover ~ .switch {
                background-color: var(--blue-6);
            }

            &:disabled:hover ~ .switch {
                background-color: var(--blue-5);
            }
        }
    }
}

/* Цели */
.green {
    .input {
        & ~ .button::before {
            border: 1px solid var(--gray-3);
        }

        &:hover ~ .button::before {
            border-color: var(--teal-6);
        }

        body:not(:global(.pointer-events)) &:focus {
            & ~ .button::before {
                border-color: var(--teal-6);
            }
        }

        &:checked {
            & ~ .button::before {
                border-color: var(--teal-6);
                background-color: var(--teal-6);
            }

            &:hover ~ .button::before {
                border-color: var(--teal-7);
                background-color: var(--teal-7);
            }

            & ~ .switch {
                background-color: var(--teal-6);
            }

            &:hover ~ .switch {
                background-color: var(--teal-7);
            }

            &:disabled:hover ~ .switch {
                background-color: var(--teal-6);
            }
        }
    }
}

/* Страховки */
.sky-blue {
    .input {
        & ~ .button::before {
            border: 1px solid var(--gray-3);
        }

        &:hover ~ .button::before {
            border-color: var(--sky-blue-6);
        }

        body:not(:global(.pointer-events)) &:focus {
            & ~ .button::before {
                border-color: var(--sky-blue-6);
            }
        }

        &:checked {
            & ~ .button::before {
                border-color: var(--sky-blue-6);
                background-color: var(--sky-blue-6);
            }

            &:hover ~ .button::before {
                border-color: var(--sky-blue-7);
                background-color: var(--sky-blue-7);
            }

            & ~ .switch {
                background-color: var(--sky-blue-6);
            }

            &:hover ~ .switch {
                background-color: var(--sky-blue-7);
            }

            &:disabled:hover ~ .switch {
                background-color: var(--sky-blue-6);
            }
        }
    }
}

/* Вклады */
.aqua {
    .input {
        & ~ .button::before {
            border: 1px solid var(--gray-3);
        }

        &:hover ~ .button::before {
            border-color: var(--aqua-6);
        }

        body:not(:global(.pointer-events)) &:focus {
            & ~ .button::before {
                border-color: var(--aqua-6);
            }
        }

        &:checked {
            & ~ .button::before {
                border-color: var(--aqua-6);
                background-color: var(--aqua-6);
            }

            &:hover ~ .button::before {
                border-color: var(--aqua-7);
                background-color: var(--aqua-7);
            }

            & ~ .switch {
                background-color: var(--aqua-6);
            }

            &:hover ~ .switch {
                background-color: var(--aqua-7);
            }

            &:disabled:hover ~ .switch {
                background-color: var(--aqua-6);
            }
        }
    }
}

/* Золото */
.yellow {
    .input {
        & ~ .button::before {
            border: 1px solid var(--gray-3);
        }

        &:hover ~ .button::before {
            border-color: var(--yellow-6);
        }

        body:not(:global(.pointer-events)) &:focus {
            & ~ .button::before {
                border-color: var(--yellow-6);
            }
        }

        &:checked {
            & ~ .button::before {
                border-color: var(--yellow-6);
                background-color: var(--yellow-6);
            }

            &:hover ~ .button::before {
                border-color: var(--yellow-7);
                background-color: var(--yellow-7);
            }

            & ~ .switch {
                background-color: var(--yellow-6);
            }

            &:hover ~ .switch {
                background-color: var(--yellow-7);
            }

            &:disabled:hover ~ .switch {
                background-color: var(--yeloww-6);
            }
        }
    }
}

/* Иные металлы */
.metal {
    .input {
        & ~ .button::before {
            border: 1px solid var(--gray-3);
        }

        &:hover ~ .button::before {
            border-color: var(--gray-9);
        }

        body:not(:global(.pointer-events)) &:focus {
            & ~ .button::before {
                border-color: var(--gray-9);
            }
        }

        &:checked {
            & ~ .button::before {
                border-color: var(--gray-9);
                background-color: var(--gray-9);
            }

            &:hover ~ .button::before {
                border-color: var(--gray-9);
                background-color: var(--gray-9);
            }

            & ~ .switch {
                background-color: var(--gray-9);
            }

            &:hover ~ .switch {
                background-color: var(--gray-9);
            }

            &:disabled:hover ~ .switch {
                background-color: var(--gray-9);
            }
        }
    }
}
