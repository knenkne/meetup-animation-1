{"version":3,"file":"tooltip.js","sources":["../../src/tooltip/tooltip.jsx"],"sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport _ from 'lodash'\r\n\r\nimport { Tip } from './tip'\r\nimport { TooltipWrapperStyled, TooltipStyled } from './tooltip.style'\r\n\r\n/**\r\n * [Zeplin](https://app.zeplin.io/project/5c74ef0d753f3ebccdf8f33d/screen/5ca729c2bad60f05a5910b1c)\r\n * Компонент программного вывода всплывающей подсказки\r\n *\r\n * @param {Object} props - свойства компонента\r\n * @return {JSX} - компонент\r\n */\r\nexport class Tooltip extends React.PureComponent {\r\n    tooltipId = _.uniqueId('tooltip-')\r\n\r\n    render () {\r\n        const { children, forceOpened, onClick } = this.props\r\n\r\n        const parsedChildren = React.Children.map(children, (child) => {\r\n            if (!child) {\r\n                return child\r\n            } else if (_.get(child, 'type.displayName') === Tip.displayName) {\r\n                return React.cloneElement(child, _.extend({}, child.props, {\r\n                    id: this.tooltipId,\r\n                    forceOpened\r\n                }))\r\n            }\r\n\r\n            if (child.props) {\r\n                const passedChild = React.cloneElement(child, _.extend({}, child.props, {\r\n                    'aria-controls': this.tooltipId,\r\n                    'aria-describedby': this.tooltipId,\r\n                }))\r\n                return (\r\n                    <TooltipWrapperStyled\r\n                        onClickCapture={onClick}\r\n                    >\r\n                        {passedChild}\r\n                    </TooltipWrapperStyled>\r\n                )\r\n            }\r\n\r\n            return (\r\n                <TooltipWrapperStyled\r\n                    onClickCapture={onClick}\r\n                    aria-controls={this.tooltipId}\r\n                    aria-describedby={this.tooltipId}\r\n                >\r\n                    {child}\r\n                </TooltipWrapperStyled>\r\n            )\r\n        })\r\n\r\n        const passedProps = _(this.props)\r\n            .omit(['children', 'forceOpened', 'onClick', 'id'])\r\n            .value()\r\n\r\n        return (\r\n            <TooltipStyled {...passedProps} >\r\n                {parsedChildren}\r\n            </TooltipStyled>\r\n        )\r\n    }\r\n}\r\n\r\nTooltip.propTypes = {\r\n    children: PropTypes.node,\r\n    forceOpened: PropTypes.bool,\r\n    onClick: PropTypes.func,\r\n    mode: PropTypes.oneOf(['fullWidth', void 0])\r\n}\r\n\r\nTooltip.defaultProps = {\r\n    children: void 0,\r\n    forceOpened: false,\r\n    onClick: _.noop,\r\n    mode: void 0\r\n}\r\n\r\nTooltip.displayName = 'Tooltip'\r\nexport default Tooltip\r\n"],"names":["Tooltip","_","uniqueId","props","children","forceOpened","onClick","parsedChildren","React","Children","map","child","get","Tip","displayName","cloneElement","extend","id","tooltipId","passedChild","passedProps","omit","value","PureComponent","propTypes","PropTypes","node","bool","func","mode","oneOf","defaultProps","noop"],"mappings":";;;;;;;;;;;;;;;;;;;;AAOA;;;;;;;;IAOaA,OAAb;AAAA;;AAAA;;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA,gEACgBC,CAAC,CAACC,QAAF,CAAW,UAAX,CADhB;;AAAA;AAAA;;AAAA;AAAA;AAAA,6BAGc;AAAA;;AAAA,wBACqC,KAAKC,KAD1C;AAAA,UACEC,QADF,eACEA,QADF;AAAA,UACYC,WADZ,eACYA,WADZ;AAAA,UACyBC,OADzB,eACyBA,OADzB;AAGN,UAAMC,cAAc,GAAGC,KAAK,CAACC,QAAN,CAAeC,GAAf,CAAmBN,QAAnB,EAA6B,UAACO,KAAD,EAAW;AAC3D,YAAI,CAACA,KAAL,EAAY;AACR,iBAAOA,KAAP;AACH,SAFD,MAEO,IAAIV,CAAC,CAACW,GAAF,CAAMD,KAAN,EAAa,kBAAb,MAAqCE,GAAG,CAACC,WAA7C,EAA0D;AAC7D,8BAAON,KAAK,CAACO,YAAN,CAAmBJ,KAAnB,EAA0BV,CAAC,CAACe,MAAF,CAAS,EAAT,EAAaL,KAAK,CAACR,KAAnB,EAA0B;AACvDc,YAAAA,EAAE,EAAE,MAAI,CAACC,SAD8C;AAEvDb,YAAAA,WAAW,EAAXA;AAFuD,WAA1B,CAA1B,CAAP;AAIH;;AAED,YAAIM,KAAK,CAACR,KAAV,EAAiB;AACb,cAAMgB,WAAW,gBAAGX,KAAK,CAACO,YAAN,CAAmBJ,KAAnB,EAA0BV,CAAC,CAACe,MAAF,CAAS,EAAT,EAAaL,KAAK,CAACR,KAAnB,EAA0B;AACpE,6BAAiB,MAAI,CAACe,SAD8C;AAEpE,gCAAoB,MAAI,CAACA;AAF2C,WAA1B,CAA1B,CAApB;AAIA,8BACI,oBAAC,oBAAD;AACI,YAAA,cAAc,EAAEZ;AADpB,aAGKa,WAHL,CADJ;AAOH;;AAED,4BACI,oBAAC,oBAAD;AACI,UAAA,cAAc,EAAEb,OADpB;AAEI,2BAAe,MAAI,CAACY,SAFxB;AAGI,8BAAkB,MAAI,CAACA;AAH3B,WAKKP,KALL,CADJ;AASH,OAjCsB,CAAvB;;AAmCA,UAAMS,WAAW,GAAGnB,CAAC,CAAC,KAAKE,KAAN,CAAD,CACfkB,IADe,CACV,CAAC,UAAD,EAAa,aAAb,EAA4B,SAA5B,EAAuC,IAAvC,CADU,EAEfC,KAFe,EAApB;;AAIA,0BACI,oBAAC,aAAD,EAAmBF,WAAnB,EACKb,cADL,CADJ;AAKH;AAlDL;;AAAA;AAAA,EAA6BC,KAAK,CAACe,aAAnC;AAqDAvB,OAAO,CAACwB,SAAR,GAAoB;AAChBpB,EAAAA,QAAQ,EAAEqB,SAAS,CAACC,IADJ;AAEhBrB,EAAAA,WAAW,EAAEoB,SAAS,CAACE,IAFP;AAGhBrB,EAAAA,OAAO,EAAEmB,SAAS,CAACG,IAHH;AAIhBC,EAAAA,IAAI,EAAEJ,SAAS,CAACK,KAAV,CAAgB,CAAC,WAAD,EAAc,KAAK,CAAnB,CAAhB;AAJU,CAApB;AAOA9B,OAAO,CAAC+B,YAAR,GAAuB;AACnB3B,EAAAA,QAAQ,EAAE,KAAK,CADI;AAEnBC,EAAAA,WAAW,EAAE,KAFM;AAGnBC,EAAAA,OAAO,EAAEL,CAAC,CAAC+B,IAHQ;AAInBH,EAAAA,IAAI,EAAE,KAAK;AAJQ,CAAvB;AAOA7B,OAAO,CAACc,WAAR,GAAsB,SAAtB;;;;;"}