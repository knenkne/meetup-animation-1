### Полезные ссылки

[Стандартные форматы изображений](https://sbtatlas.sigma.sbrf.ru/wiki/pages/viewpage.action?pageId=135550218)

### SVG
Перед началом использования иконки убедитесь, что она:

* может быть минифицирована без деградации с помощью стандартного набора плагинов svgo
* если после минификации остается набор defs, то он должен быть предварительно раскрыт и устранен по id
* если деградация иконки при этом неизбежна, то должен быть переделан дизайн иконки или оптимизирована ее выгрузка:
* градиенты должны отсутствовать (они не могут быть без деградации устранены из defs)
* слои должны быть схлопнуты (должно устранить переиспользуемые элементы из defs)
* проверьте набор иконок с помощью библиотеки svglint@^0.0.0-alpha.4 (библиотека поддерживается нашими силами) для выявления недостатков разметки svg

### Import icon

```jsx 
// указываем идентификатор проекта, чтобы обеспечить динамическую генерацию уникальных id иконок.

Icon.setProjectId(process.env.PKG_ID)

Импортируем иконку по пути `src/icons/common/{iconName}` 
Чтобы использовать иконку, используем:
<Icon svg={iconSvg} />

```

### Icon-chunks

Как создавать и использовать icon-chunk (требуется @sbol/webpack-config@>=11):
```jsx static
// указываем идентификатор проекта, чтобы обеспечить динамическую генерацию уникальных id иконок.

Icon.setProjectId(process.env.PKG_ID)

// указываем имя нового чанка и делаем callback на динамический импорт индекса этих иконок
// индекс должен экспортировать default объект из пар `camelCase имя иконки: ее inline-реализация`
Icon.addIcons('icon:my/space/there', () => import('./there-are-imports-from-all-svg-files.js'))
...

const MyIcon = () => <Icon name="icon:my/space/there/icon-from-my-icon-set" />
```

Все иконки содержат префикс `icon:` (для отличая от `image:` в API front-back).
Далее путь до иконки определяется по "директориям". Например, библиотечные иконки располагаются в `icon:core/<icon_set>/<icon>`.
Примеры:
* `icon:core/common/alert-info` или `icon:core/common/alertInfo`
* `icon:core/countries/rus`
* `icon:cards/credit/request/info`

Далее при первом упоминании в рендерах icon-chunk'а будет произведен запрос на скрипт, содержащий svg-набор (набор загрузится единожды)

```jsx live
<Demo.Titled title={`Иконки по сommon`}>
    <Demo.IconSet exportsSvg={'common'}>
        {(value) => (
            <Icon
                icon={value}
            />
        )}
    </Demo.IconSet>
</Demo.Titled>
```

```jsx live
<Demo.Titled title={`Цвет иконом изменяется параметром colorScheme`}>
    <Demo.IconSet exportsSvg={'common'}>
        {(value) => (
            <Icon
                icon={value}
                colorScheme="orange5"
            />
        )}
    </Demo.IconSet>
</Demo.Titled>
```

```jsx live
<Demo.Titled  title={`Доступ к иконке по name="icon:core/countries/<name>"`} description="[Коды стран в алфавитном порядке](https://en.wikipedia.org/wiki/ISO_3166-1)\n\n[Коды стран с государственными флагами](https://ru.wikipedia.org/wiki/ISO_3166-1)">
    <Demo.IconSet exports={'countries'}>
        {(value) => (
            <IconLoader
                name={`icon:core/countries/${value}`}
            />
        )}
    </Demo.IconSet>
</Demo.Titled>
```

```jsx live
<Demo.Titled title={`Доступ к иконке по name="icon:core/cards/<name>"`}>
    <Demo.IconSet exports={'cards'}>
        {(value) => (
            <IconLoader
                name={`icon:core/cards/${value}`}
            />
        )}
    </Demo.IconSet>
</Demo.Titled>
```
